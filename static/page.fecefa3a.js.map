{"version":3,"sources":["../../node_modules/@babel/runtime/helpers/defineProperty.js","../page/components/subject.vue","../page/components/skeleton.vue","../page/components/article.vue","../page/components/preview.vue","../page/components/btn.vue","../page/index.vue"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AGSA;AHRA;AACA,AMYA;ANXA;AACA,AMaA;ANZA;AACA,AMYA;ANXA,eELA;AFMA,AELA,AIgBA,EJhBA,IAAA,EAAA,OEAA,GFDA;AEEA,AFCA,EEDA,AFCA,IEDA,AFFA,EEEA,SADA,OFEA;AECA,AFAA,AIcA,EFdA,KAAA,EAAA,EFAA,EAAA;AECA,AFAA,IEAA,IAAA,EAAA;AACA,AFNA,MEMA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAHA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA,EAAA;AACA,GAZA,yBEYA,mCAAA,OAAA;AFEA,EAAA,EEFA,GFEA,EAAA,MDNA,sBGIA;AHHA,ACMA,EDNA,ECMA,AEHA,EHHA,EAAA,ACKA,UDNA,QCOA,aEHA;AHDA,ACKA,EDLA,EGCA,MFIA,EDLA,ACKA,EDLA,CEEA,ADGA,KAAA,KAAA,CAAA,EAAA,aEJA;AHAA,AEEA,EAAA,IAAA,EAAA,KADA,KFDA;AADA,AEKA,ADCA,ECDA,CFRA,IEQA,EAAA,CDCA,EAAA,EAAA,CEEA;AHJA,AEEA,ADCA,AEEA,EHLA,AGKA,EDHA,ECGA,CHLA,CCGA,AEEA,CHLA,CEEA,ADCA,CAAA,CCDA,GCEA,KFDA,GAAA,CAAA;ADFA,AEEA,ADCA,AEGA,EAAA,EHNA,EEEA,EFFA,EAAA,AEEA,EAAA,ACIA,EAAA,KDLA;AFAA,AEEA,ADCA,AEGA,MHNA,AEEA,IFFA,EAAA,CEEA,EAAA,ECIA,CHPA,eGMA;AHJA,AEDA,ADHA,AEUA,MHNA,OAAA,EAAA,CAAA,CGMA,gBAFA;AHNA,AEAA,ADhBA,AEyBA,GDZA,EFEA,YGUA,gBAHA;AHDA,AEEA,ACGA,EDHA,EFFA,EERA,EFQA,EAAA,GGKA,WDHA;AFDA,AEEA,ACFA,GAHA,GHGA,IAAA,CEEA,CFFA,KADA;AAEA,AEEA,ACIA,EAAA,IHNA,AEEA,ACNA,OHIA,AEEA,EFFA,AEEA,SCIA;AHNA,AECA,ACMA,KDNA,MCMA,EAAA,EHPA,EAAA;AAAA,AEIA,ACIA,GDlBA,ACMA,YLMA;AEJA,AEQA,AJHA,AKOA,EDJA,AJHA,AKOA,ILPA,EAAA,CIGA,CCIA,CDJA,MJJA,aKSA,QAAA,CAAA;AHnBA,AEeA,AJFA,AKOA,ELPA,CEpBA,CEsBA,ACKA,GLPA,AKOA,EDNA,AJDA,AKOA,aAAA,IDLA,CADA,ACMA,EDLA;AFHA,AEIA,AJFA,AKMA,EHRA,EFEA,EErBA,CFqBA,EAAA,CIEA,GAAA,ACIA,GDJA,CAAA,CAAA,ACIA,CAAA,GAAA,EHRA,AEIA,CAAA,KAAA;AFHA,AEIA,AJFA,AKKA,KADA,CLJA,IAAA,CEFA,AEIA,CJFA,CEFA,GEIA,CAAA,CJHA,IIGA,EAAA,GAAA;AFHA,AEIA,AJFA,AKKA,IAAA,ELLA,EKKA,EAAA,CDHA,EJFA,EAAA,GIEA,GAAA,GCGA,EDHA,GCGA;AH5BA,AE0BA,AJLA,AKOA,KDPA,AJDA,QKQA,KAAA,CAAA,IAAA;ADAA,AJHA,AKGA,IDAA,AJHA,CKCA,EDLA,CJIA,EAAA,cIGA;AACA,AJHA,AKGA,IAAA,ELHA,IIGA,AJHA,AKGA,ELHA,AKGA,GDAA,EJJA,IIIA,EAAA,KCAA,KAAA;ADCA,AJHA,AKEA,MLFA,OAAA,AKEA,ELFA,GKEA,CAAA,MAAA;ADEA,AJJA,AKEA,KAHA,ULCA,EAAA;AAAA,AKGA,IAAA,OAAA,EAAA,iBAAA,KAAA;ADEA,AJPA,AKKA,WDEA,ECFA,KDEA,ACFA,CAAA,EDEA,IAAA,CCFA;ADGA,AJbA,AKUA,GLbA,EKSA,MDOA,KAAA,CAAA,GAAA,CAAA,KAAA;AACA,AJJA,AKCA,ELDA,EKCA,ELdA,KIiBA,CCHA,EAAA,EDGA,CAAA,GAAA,CAAA,GJJA,EIIA,GAAA,EAAA,CCHA,KAAA;ADIA,AJJA,AKAA,WLAA,EAAA,AKAA,KAAA,CAAA,QAAA;ADVA,AJWA,AKDA,GD1BA,ECqBA;ADYA,AJrBA,AKeA,EDMA,ECNA,KD3BA,GC2BA,EAAA,gBDMA,ECNA,KAAA;ADMA,ACNA,aAAA,KAAA,CAAA,QAAA;AAAA;ADOA,ACbA,GAAA,CDaA,ACdA,CAdA,OD4BA,CAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,ACJA,EAAA,IDIA,GCJA,EDIA,CAAA,OAAA,GAAA,KAAA,ECHA,YAAA,CAAA;ADIA,ACHA,IAAA,CDCA,SCDA,EAAA,YADA;ADKA,ACHA,IAAA,OAAA,EAAA;ADlCA,ACgCA,GAAA,CADA,MAMA,UAAA,CAAA;AACA,IAAA,WAAA,EAAA,aADA;AAEA,IAAA,WAAA,EAAA,aAFA;AAGA,IAAA,YAAA,EAAA,cAHA;AAIA,IAAA,cAAA,EAAA;AAJA,GAAA,CANA;AAaA,IAAA,mBAbA,+BAaA,IAbA,EAaA,KAbA,EAaA;AACA,UAAA,OAAA,iEAAA,IAAA,CAAA,IAAA,gBAAA,IAAA,CAAA,IAAA,gCAAA,IAAA,CAAA,OAAA,CAAA;AACA,WAAA,UAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,WAAA,OAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAjBA;AAmBA,IAAA,mBAnBA,+BAmBA,IAnBA,EAmBA;AACA,WAAA,WAAA,CAAA;AAAA,QAAA,GAAA,EAAA,IAAA,CAAA;AAAA,OAAA;AACA,KArBA;AAuBA,IAAA,gBAvBA,4BAuBA,GAvBA,EAuBA;AACA,WAAA,YAAA,CAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA;AACA,KAzBA;AA2BA,IAAA,mBA3BA,+BA2BA,IA3BA,EA2BA;AACA,WAAA,cAAA,CAAA;AAAA,QAAA,GAAA,EAAA,IAAA,CAAA;AAAA,OAAA;AACA;AA7BA,IAzBA;AAyDA,EAAA,OAzDA,qBAyDA;AACA,SAAA,WAAA;AACA;AA3DA","file":"page.fecefa3a.js","sourceRoot":"../src/main","sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","<template>\n  <ul class=\"component-subjects\">\n    <template v-if=\"list && list.length\">\n      <li\n        class=\"subject\"\n        :class=\"{'active': sid === item._id}\"\n        :key=\"item._id\"\n        v-for=\"item in list\"\n        @click=\"$emit('select', item)\"\n      >\n        <span class=\"tit\">{{item.title}}</span>\n        <svg\n          viewBox=\"64 64 896 896\"\n          focusable=\"false\"\n          class=\"delete\"\n          data-icon=\"close-circle\"\n          width=\"1em\"\n          height=\"1em\"\n          fill=\"currentColor\"\n          aria-hidden=\"true\"\n          @click.stop=\"$emit('delete', item)\"\n        >\n          <path\n            d=\"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z\"\n          />\n          <path\n            d=\"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\n          />\n        </svg>\n      </li>\n    </template>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'subject',\n\n  props: {\n    sid: {\n      type: String,\n      default: ''\n    },\n    list: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {}\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.component-subjects {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n  background: #dddddd;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n\n  .subject {\n    position: relative;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-shrink: 0;\n    width: 100%;\n    height: 40px;\n    border-bottom: 1px dashed #aaaaaa;\n    padding-left: 10px;\n    padding-right: 10px;\n    cursor: pointer;\n    transition: 300ms;\n\n    &:hover {\n      background: #cccccc;\n\n      .delete {\n        display: flex;\n      }\n    }\n\n    .tit {\n      color: #666666;\n      font-size: 12px;\n    }\n\n    .delete {\n      display: none;\n      position: absolute;\n      top: 50%;\n      right: 6px;\n      opacity: 0.3;\n      transform: translateY(-50%);\n      transition: 300ms;\n\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n  }\n\n  .active {\n    .tit {\n      color: #444444;\n      font-weight: 600;\n    }\n  }\n}\n</style>","<template>\n  <section class=\"component-skeleton\">\n    <div class=\"skeleton-title\"></div>\n    <div class=\"skeleton-content\"></div>\n    <div class=\"skeleton-sub\"></div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'skeleton',\n\n  data() {\n    return {}\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.component-skeleton {\n  padding-top: 20px;\n\n  .skeleton-title {\n    width: 80%;\n    height: 40px;\n    transform-origin: left;\n    background: #cccccc;\n    animation: skeleton-stretch 500ms -400ms linear infinite alternate;\n  }\n\n  .skeleton-content {\n    width: 70%;\n    height: 30px;\n    margin-top: 10px;\n    transform-origin: left;\n    background: #dddccc;\n    animation: skeleton-stretch 500ms -200ms linear infinite alternate;\n  }\n\n  .skeleton-sub {\n    width: 90%;\n    height: 20px;\n    margin-top: 10px;\n    transform-origin: left;\n    background: #dddddd;\n    animation: skeleton-stretch 500ms linear infinite alternate;\n  }\n\n  @keyframes skeleton-stretch {\n    from {\n      transform: scalex(1);\n    }\n    to {\n      transform: scalex(0.2);\n    }\n  }\n}\n</style>","<template>\n  <ul class=\"component-article\">\n    <template v-if=\"list && list.length\">\n      <li\n        class=\"article\"\n        :class=\"{'active': aidx === index}\"\n        :key=\"index\"\n        v-for=\"(item, index) in list\"\n        @click=\"$emit('select', item, index)\"\n      >{{item.title}}</li>\n    </template>\n    <v-skeleton v-else></v-skeleton>\n  </ul>\n</template>\n\n<script>\nimport Skeleton from './skeleton.vue'\n\nexport default {\n  name: 'articles',\n\n  components: {\n    'v-skeleton': Skeleton\n  },\n\n  props: {\n    aidx: {\n      type: Number,\n      default: -1\n    },\n\n    list: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {}\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.component-article {\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n  background: #eeeeee;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n\n  .article {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-shrink: 0;\n    font-size: 12px;\n    color: #666666;\n    width: 100%;\n    height: 80px;\n    border-bottom: 1px dashed #aaaaaa;\n    padding-left: 10px;\n    padding-right: 10px;\n    cursor: pointer;\n    transition: 300ms;\n\n    &:hover {\n      background: #dddddd;\n    }\n  }\n\n  .active {\n    color: #444444;\n    font-weight: 600;\n  }\n}\n</style>","<template>\n  <section ref=\"md\" class=\"component-preview\">\n    <div v-if=\"text.length\" class=\"markdown\" v-html=\"text\"></div>\n    <div v-else class=\"empty\">\n      <img draggable=\"false\" class=\"img\" src=\"../assets/empty.svg\" alt />\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'preview',\n\n  props: {\n    text: {\n      type: String,\n      default: ''\n    }\n  },\n\n  data() {\n    return {}\n  },\n\n  watch: {\n    text() {\n      const md = this.$refs.md\n      if (md) {\n        md.scrollTop = 0\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.component-preview {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  background: #ffffff;\n  color: #333333;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    width: 8px;\n    border-radius: 4px;\n    background-color: #00000020;\n  }\n\n  .empty {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n\n    .img {\n      width: 100px;\n      user-select: none;\n      opacity: 0.6;\n    }\n  }\n}\n</style>\n\n<style lang=\"less\">\n@import url(./markdown.less);\n</style>","<template>\n  <section class=\"component-btn\" @click.stop=\"add\">\n    <div class=\"btn\">\n      <span v-if=\"adding\" class=\"load\">\n        <i></i>\n        <i></i>\n        <i></i>\n        <i></i>\n      </span>\n      <span v-else class=\"add\">+</span>\n    </div>\n    <input\n      ref=\"ipt\"\n      class=\"link\"\n      :class=\"{'hide': !visible}\"\n      type=\"text\"\n      placeholder=\"输入要订阅的url\"\n      @keydown.enter=\"enter\"\n    />\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'btn',\n\n  props: {\n    adding: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      visible: false\n    }\n  },\n\n  methods: {\n    enter(e) {\n      const url = e.target.value\n      this.$emit('add', url)\n      this.visible = false\n    },\n\n    add() {\n      if (this.adding) {\n        return\n      }\n      this.visible = true\n      this.$refs.ipt.focus()\n      this.$refs.ipt.value = ''\n    }\n  },\n\n  mounted() {\n    document.addEventListener('click', () => {\n      this.visible = false\n    })\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.component-btn {\n  position: fixed;\n  bottom: 10px;\n  left: 10px;\n  z-index: 10;\n\n  .btn {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    background: #cccccc;\n    transition: 300ms;\n    box-shadow: 1px 1px 1px #bbbbbb;\n\n    &:hover {\n      background: #bbbbbb;\n    }\n\n    .add {\n      font-size: 14px;\n      color: #777777;\n      cursor: pointer;\n    }\n\n    .load {\n      position: relative;\n      display: inline-block;\n      font-size: 20px;\n      width: 14px;\n      height: 14px;\n      transform: rotate(45deg);\n      animation: antRotate 1.2s infinite linear;\n      cursor: not-allowed;\n\n      i {\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        background-color: #999999;\n        transform: scale(0.75);\n        display: block;\n        position: absolute;\n        opacity: 0.3;\n        animation: antSpinMove 1s infinite linear alternate;\n        transform-origin: 50% 50%;\n        &:nth-child(1) {\n          left: 0;\n          top: 0;\n        }\n        &:nth-child(2) {\n          right: 0;\n          top: 0;\n          animation-delay: 0.4s;\n        }\n        &:nth-child(3) {\n          right: 0;\n          bottom: 0;\n          animation-delay: 0.8s;\n        }\n        &:nth-child(4) {\n          left: 0;\n          bottom: 0;\n          animation-delay: 1.2s;\n        }\n      }\n\n      @keyframes antSpinMove {\n        to {\n          opacity: 1;\n        }\n      }\n      @keyframes antRotate {\n        to {\n          transform: rotate(405deg);\n        }\n      }\n    }\n  }\n\n  .link {\n    position: absolute;\n    bottom: 110%;\n    left: 90%;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 200px;\n    height: 30px;\n    padding-left: 10px;\n    padding-right: 10px;\n    background: #dddddd;\n    color: #333333;\n    font-size: 12px;\n    border: none;\n    border-bottom: 1px dashed #777777;\n    border-radius: 10px;\n    box-shadow: 1px 1px 3px 1px #bbbbbb;\n  }\n\n  .hide {\n    opacity: 0;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n  }\n}\n</style>","<template>\n  <div class=\"layout\">\n    <section class=\"left\">\n      <v-subject\n        :sid=\"sid\"\n        :list=\"subjects\"\n        @select=\"selectSubjectHandle\"\n        @delete=\"deleteSubjectHandle\"\n      ></v-subject>\n    </section>\n    <section class=\"middle\">\n      <v-article :aidx=\"aidx\" :list=\"articles\" @select=\"selectArticleHandle\"></v-article>\n    </section>\n    <section class=\"right\">\n      <v-preview :text=\"preview\"></v-preview>\n    </section>\n    <v-btn :adding=\"adding\" @add=\"addSubjectHandle\"></v-btn>\n  </div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\nconst { mapState, mapActions, mapMutations } = createNamespacedHelpers('index')\n\nimport Subject from './components/subject.vue'\nimport Article from './components/article.vue'\nimport Preview from './components/preview.vue'\nimport Btn from './components/btn.vue'\n\nexport default {\n  name: 'index',\n\n  components: {\n    'v-subject': Subject,\n    'v-article': Article,\n    'v-preview': Preview,\n    'v-btn': Btn\n  },\n\n  data() {\n    return {}\n  },\n\n  computed: {\n    ...mapState({\n      sid: state => state.sid,\n      aidx: state => state.aidx,\n      adding: state => state.adding,\n      preview: state => state.preview,\n      subjects: state => state.subjects,\n      articles: state => state.articles\n    })\n  },\n\n  methods: {\n    ...mapMutations({\n      setPreview: 'setPreview',\n      setAidx: 'setAidx'\n    }),\n\n    ...mapActions({\n      getSubjects: 'getSubjects',\n      getArticles: 'getArticles',\n      postSubjects: 'postSubjects',\n      deleteSubjects: 'deleteSubjects'\n    }),\n\n    selectArticleHandle(info, index) {\n      const preview = `<blockquote>原文链接：<a href=\"${info.link}\">${info.link}</a></blockquote>\\n${info.content}`\n      this.setPreview({ text: preview })\n      this.setAidx({ aidx: index })\n    },\n\n    selectSubjectHandle(info) {\n      this.getArticles({ sid: info._id })\n    },\n\n    addSubjectHandle(url) {\n      this.postSubjects({ url })\n    },\n\n    deleteSubjectHandle(info) {\n      this.deleteSubjects({ sid: info._id })\n    }\n  },\n\n  mounted() {\n    this.getSubjects()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.layout {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n\n  .left {\n    display: flex;\n    flex-direction: column;\n    flex-shrink: 0;\n    width: 14%;\n    height: 100%;\n  }\n\n  .middle {\n    display: flex;\n    flex-direction: column;\n    flex-shrink: 0;\n    width: 20%;\n    height: 100%;\n  }\n\n  .right {\n    display: inline-flex;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n  }\n}\n</style>"]}